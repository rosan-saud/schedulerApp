(this["webpackJsonpscheduler-app"]=this["webpackJsonpscheduler-app"]||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/option_icon.05e8a417.svg"},67:function(e,t,a){e.exports=a.p+"static/media/logo_icon.b91becec.svg"},72:function(e,t,a){e.exports=a.p+"static/media/clock.871bbe23.svg"},74:function(e,t,a){e.exports=a(91)},89:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(66),i=a.n(c),s=a(23),r=a(67),m=a.n(r),u=a(33),o=a.n(u);var d=function(){return l.a.createElement("div",{className:"sidenav"},l.a.createElement("h1",{style:{marginLeft:75},className:"logo"},l.a.createElement("img",{src:m.a,width:"50px"}),l.a.createElement("span",{style:{color:"#dc6f8a"}},"Logo")),l.a.createElement("div",{className:"nav"},l.a.createElement("div",{className:"nav-options"},l.a.createElement("img",{src:o.a})," ",l.a.createElement("span",null," Option one")),l.a.createElement("div",{className:"nav-options"},l.a.createElement("img",{src:o.a})," ",l.a.createElement("span",null," Option two")),l.a.createElement("div",{className:"nav-options"},l.a.createElement("img",{src:o.a})," ",l.a.createElement("span",null," Option thr"),"ee"),l.a.createElement("div",{className:"nav-options"},l.a.createElement("img",{src:o.a})," ",l.a.createElement("span",null," Option four"))))},v=a(28),E=a(40),b=a(8),p=a(20);function f(){var e=Object(E.a)(["\n  mutation($title: String!, $date: date, $sections: jsonb) {\n    insert_schedules(\n      objects: { title: $title, date: $date, sections: $sections }\n    ) {\n      affected_rows\n      returning {\n        id\n        title\n        date\n        sections\n      }\n    }\n  }\n"]);return f=function(){return e},e}var N=Object(p.gql)(f());var h=Object(b.f)((function(e){var t=Object(p.useMutation)(N),a=Object(s.a)(t,1)[0],c=Object(n.useState)(""),i=Object(s.a)(c,2),r=i[0],m=i[1],u=Object(n.useState)(""),o=Object(s.a)(u,2),d=o[0],E=o[1],b=Object(n.useState)([{time:"",title:"",subtitles:[""]}]),f=Object(s.a)(b,2),h=f[0],g=f[1];return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h1",{style:{fontWeight:500}},"Create a new training schedule")),l.a.createElement("div",{className:"scroll-block"},l.a.createElement("div",{className:"mainSection"},l.a.createElement("div",{className:"dateDiv"},l.a.createElement("label",{className:"label"},"Date"),l.a.createElement("input",{className:"input",type:"date",value:d,onChange:function(e){E(e.target.value)}})),l.a.createElement("div",{className:"titleDiv"},l.a.createElement("label",{className:"label"}," Title"),l.a.createElement("input",{className:"input",type:"text",value:r,onChange:function(e){m(e.target.value)}}))),h.map((function(e,t){return l.a.createElement("div",{className:"subsectionDiv"},0==t?l.a.createElement("div",{className:"subheadingDiv"},l.a.createElement("h3",{className:"sectionHeading",style:{display:"inline-block"}},"Section")):null,l.a.createElement("div",{className:"timeDiv"},l.a.createElement("label",{className:"label"},"Time "),l.a.createElement("input",{className:"input",type:"time",value:e.time,onChange:function(e){return function(e,t){var a=h[t];a.time=e.target.value,h[t]=a,g(Object(v.a)(h))}(e,t)}})),l.a.createElement("div",{className:"subtitleDiv"},l.a.createElement("label",{className:"label"},"Title"),l.a.createElement("input",{className:"input",type:"text",value:e.title,onChange:function(e){return function(e,t){var a=h[t];a.title=e.target.value,h[t]=a,g(Object(v.a)(h))}(e,t)}})),l.a.createElement("div",{className:"subsubtitleDiv"},e.subtitles.map((function(e,a){return l.a.createElement("div",{className:"6th"},l.a.createElement("label",{className:"label"},"Subtitle"),l.a.createElement("input",{className:"input",type:"text",value:e,onChange:function(e){return function(e,t,a){h[t].subtitles[a]=e.target.value,g(Object(v.a)(h))}(e,t,a)}}))}))),l.a.createElement("button",{className:"secondaryBtn",onClick:function(e){!function(e,t){h[t].subtitles.push(""),g(Object(v.a)(h))}(0,t)}},"New Subtitle"))})),l.a.createElement("div",null,l.a.createElement("button",{className:"secondaryBtn new-sec",style:{float:"right",display:"inline-block"},onClick:function(){h.push({time:"",title:"",subtitles:[""]}),g(Object(v.a)(h))}},"New Section"))),l.a.createElement("div",{className:"create-block"},l.a.createElement("button",{className:"primaryBtn",type:"submit",onClick:function(){var t={title:r,date:d,sections:h};r&&d?(e.saveSchedule(t),a({variables:{title:r,date:d,sections:h}})):alert("Enter Title and Date of your training")}},"Create")))})),g=a(72),O=a.n(g),y=a(73),j=a.n(y);function w(){var e=Object(E.a)(["\n  query getSchedules {\n    schedules(order_by: { id: desc }) {\n      id\n      title\n      date\n      sections\n    }\n  }\n"]);return w=function(){return e},e}var S=Object(p.gql)(w());var k=Object(b.f)((function(e){e.recievedSchedule.sections;var t=Object(p.useQuery)(S),a=t.loading,n=t.error,c=t.data;if(a)return l.a.createElement("div",null,"Loading...");if(n)return console.error(n),l.a.createElement("div",null,"Error!");var i=c?c.schedules[0]:{},s=i?JSON.parse(JSON.stringify(i.sections)):[];return l.a.createElement("div",{className:"viewCont"},console.log(typeof s),l.a.createElement("div",null,l.a.createElement("h1",null,"Trainings")),l.a.createElement("div",{className:"date-btn"},l.a.createElement("div",null,l.a.createElement("button",{className:"secondaryBtn createSchedule",onClick:function(){e.history.push("/")}},"New Training"),l.a.createElement("div",{className:"selectDate"},l.a.createElement("span",{className:"date"}," ",j()(i.date).format("Do MMM")),"\u276e\xa0 \xa0\u276f"))),l.a.createElement("div",{className:"viewTitle"},l.a.createElement("h1",{style:{fontWeight:500}},i.title)),l.a.createElement("div",{className:"viewDate"},l.a.createElement("h2",null,l.a.createElement("div",{className:"clock"},l.a.createElement("img",{style:{verticalAlign:"middle"},src:O.a,width:"25px"})),l.a.createElement("div",{className:"viewDate main"},i.date))),s?s.map((function(e,t){return e.title&&e.time?l.a.createElement("div",{className:"viewSubsection"},l.a.createElement("div",{className:"viewSubsec"},l.a.createElement("div",{className:"subsecTitle"},l.a.createElement("h3",null," ",e.title)),l.a.createElement("div",{className:"time"},e.time),e.subtitles?e.subtitles.map((function(e,t){return e?l.a.createElement("div",{className:"subtitles"},l.a.createElement("li",null,e," ")):null})):null)):null})):null)})),C=(a(89),function(){return new p.ApolloClient({link:new p.HttpLink({uri:"https://alert-pug-56.hasura.app/v1/graphql"}),cache:new p.InMemoryCache})});var D=Object(b.f)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(""),m=Object(s.a)(r,2),u=m[0],o=m[1];return Object(n.useEffect)((function(){o(C)}),[]),u?l.a.createElement(p.ApolloProvider,{client:u},l.a.createElement("div",{className:"main-cont"},l.a.createElement(d,null),l.a.createElement("div",{className:"body-cont"},l.a.createElement(b.c,null,l.a.createElement(b.a,{path:"/view",exact:!0},l.a.createElement(k,{recievedSchedule:c})),l.a.createElement(b.a,{path:"/"},l.a.createElement(h,{saveSchedule:function(t){i(t),e.history.push("/view")}})))))):"Loading"})),x=a(46);i.a.render(l.a.createElement(x.a,null,l.a.createElement(D,null)),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.833fdd3a.chunk.js.map