(this["webpackJsonpscheduler-app"]=this["webpackJsonpscheduler-app"]||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/option_icon.05e8a417.svg"},68:function(e,t,a){e.exports=a.p+"static/media/logo_icon.b91becec.svg"},74:function(e,t,a){e.exports=a.p+"static/media/clock.871bbe23.svg"},76:function(e,t,a){e.exports=a(94)},92:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(67),i=a.n(c),s=a(23),r=a(68),u=a.n(r),m=a(33),o=a.n(m);var d=function(){return l.a.createElement("div",{className:"sidenav"},l.a.createElement("h1",{style:{marginLeft:75},className:"logo"},l.a.createElement("img",{src:u.a,width:"50px"}),l.a.createElement("span",{style:{color:"#dc6f8a"}},"Logo")),l.a.createElement("div",{className:"nav"},l.a.createElement("div",{className:"nav-options"},l.a.createElement("img",{src:o.a})," ",l.a.createElement("span",null," Option one")),l.a.createElement("div",{className:"nav-options"},l.a.createElement("img",{src:o.a})," ",l.a.createElement("span",null," Option two")),l.a.createElement("div",{className:"nav-options"},l.a.createElement("img",{src:o.a})," ",l.a.createElement("span",null," Option thr"),"ee"),l.a.createElement("div",{className:"nav-options"},l.a.createElement("img",{src:o.a})," ",l.a.createElement("span",null," Option four"))))},v=a(47),E=a.n(v),p=a(69),b=a(28),f=a(40),h=a(8),N=a(20);function g(){var e=Object(f.a)(["\n  mutation($title: String!, $date: date, $sections: jsonb) {\n    insert_schedules(\n      objects: { title: $title, date: $date, sections: $sections }\n    ) {\n      affected_rows\n      returning {\n        id\n        title\n        date\n        sections\n      }\n    }\n  }\n"]);return g=function(){return e},e}var y=Object(N.gql)(g());var O=Object(h.f)((function(e){var t=Object(N.useMutation)(y),a=Object(s.a)(t,1)[0],c=Object(n.useState)(""),i=Object(s.a)(c,2),r=i[0],u=i[1],m=Object(n.useState)(""),o=Object(s.a)(m,2),d=o[0],v=o[1],f=Object(n.useState)([{time:"",title:"",subtitles:[""]}]),h=Object(s.a)(f,2),g=h[0],O=h[1];function j(){return(j=Object(p.a)(E.a.mark((function t(){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={title:r,date:d,sections:g},r&&d){t.next=5;break}alert("Enter Title and Date of your training"),t.next=8;break;case 5:return t.next=7,a({variables:{title:r,date:d,sections:g}});case 7:e.saveSchedule(n);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h1",{style:{fontWeight:500}},"Create a new training schedule"),l.a.createElement("button",{className:"secondaryBtn return",onClick:function(){e.history.push("/")}},"Cancel")),l.a.createElement("div",{className:"scroll-block"},l.a.createElement("div",{className:"mainSection"},l.a.createElement("div",{className:"dateDiv"},l.a.createElement("label",{className:"label"},"Date"),l.a.createElement("input",{className:"input",type:"date",value:d,onChange:function(e){v(e.target.value)}})),l.a.createElement("div",{className:"titleDiv"},l.a.createElement("label",{className:"label"}," Title"),l.a.createElement("input",{className:"input",type:"text",value:r,onChange:function(e){u(e.target.value)}}))),g.map((function(e,t){return l.a.createElement("div",{className:"subsectionDiv"},0==t?l.a.createElement("div",{className:"subheadingDiv"},l.a.createElement("h3",{className:"sectionHeading",style:{display:"inline-block"}},"Sections")):null,l.a.createElement("div",{className:"timeDiv"},l.a.createElement("label",{className:"label"},"Time "),l.a.createElement("input",{className:"input",type:"time",value:e.time,onChange:function(e){return function(e,t){var a=g[t];a.time=e.target.value,g[t]=a,O(Object(b.a)(g))}(e,t)}})),l.a.createElement("div",{className:"subtitleDiv"},l.a.createElement("label",{className:"label"},"Title"),l.a.createElement("input",{className:"input",type:"text",value:e.title,onChange:function(e){return function(e,t){var a=g[t];a.title=e.target.value,g[t]=a,O(Object(b.a)(g))}(e,t)}})),l.a.createElement("div",{className:"subsubtitleDiv"},e.subtitles.map((function(e,a){return l.a.createElement("div",{className:"6th"},l.a.createElement("label",{className:"label"},"Subtitle"),l.a.createElement("input",{className:"input",type:"text",value:e,onChange:function(e){return function(e,t,a){g[t].subtitles[a]=e.target.value,O(Object(b.a)(g))}(e,t,a)}}))}))),l.a.createElement("button",{className:"secondaryBtn",onClick:function(e){!function(e,t){g[t].subtitles.push(""),O(Object(b.a)(g))}(0,t)}},"New Subtitle"))})),l.a.createElement("div",null,l.a.createElement("button",{className:"secondaryBtn new-sec",style:{float:"right",display:"inline-block"},onClick:function(){g.push({time:"",title:"",subtitles:[""]}),O(Object(b.a)(g))}},"New Section"))),l.a.createElement("div",{className:"create-block"},l.a.createElement("button",{className:"primaryBtn",type:"submit",onClick:function(){return j.apply(this,arguments)}},"Create")))})),j=a(74),w=a.n(j),S=a(75),k=a.n(S);function C(){var e=Object(f.a)(["\n  query getSchedules {\n    schedules(order_by: { id: desc }) {\n      id\n      title\n      date\n      sections\n    }\n  }\n"]);return C=function(){return e},e}var x=Object(N.gql)(C());var D=Object(h.f)((function(e){e.recievedSchedule.sections;var t=Object(N.useQuery)(x,{fetchPolicy:"network-only"}),a=t.loading,n=t.error,c=t.data;if(a)return l.a.createElement("div",null,"Loading...");if(n)return console.error(n),l.a.createElement("div",null,"Error!");var i=c?c.schedules[0]:{},s=i?JSON.parse(JSON.stringify(i.sections)):[];return l.a.createElement("div",{className:"viewCont"},console.log(typeof s),l.a.createElement("div",null,l.a.createElement("h1",null,"Trainings")),l.a.createElement("div",{className:"date-btn"},l.a.createElement("div",null,l.a.createElement("button",{className:"secondaryBtn createSchedule",onClick:function(){e.history.push("/create")}},"New Training"),l.a.createElement("div",{className:"selectDate"},l.a.createElement("span",{className:"date"}," ",k()(i.date).format("Do MMM")),"\u276e\xa0 \xa0\u276f"))),l.a.createElement("div",{className:"viewTitle"},l.a.createElement("h1",{style:{fontWeight:500}},i.title)),l.a.createElement("div",{className:"viewDate"},l.a.createElement("h2",null,l.a.createElement("div",{className:"clock"},l.a.createElement("img",{style:{verticalAlign:"middle"},src:w.a,width:"25px"})),l.a.createElement("div",{className:"viewDate main"},i.date))),s?s.map((function(e,t){return e.title&&e.time?l.a.createElement("div",{className:"viewSubsection"},l.a.createElement("div",{className:"viewSubsec"},l.a.createElement("div",{className:"subsecTitle"},l.a.createElement("h3",null," ",e.title)),l.a.createElement("div",{className:"time"},e.time),e.subtitles?e.subtitles.map((function(e,t){return e?l.a.createElement("div",{className:"subtitles"},l.a.createElement("li",null,e," ")):null})):null)):null})):null)})),T=(a(92),function(){return new N.ApolloClient({link:new N.HttpLink({uri:"https://alert-pug-56.hasura.app/v1/graphql"}),cache:new N.InMemoryCache})});var B=Object(h.f)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(""),u=Object(s.a)(r,2),m=u[0],o=u[1];return Object(n.useEffect)((function(){o(T)}),[]),m?l.a.createElement(N.ApolloProvider,{client:m},l.a.createElement("div",{className:"main-cont"},l.a.createElement(d,null),l.a.createElement("div",{className:"body-cont"},l.a.createElement(h.c,null,l.a.createElement(h.a,{path:"/create",exact:!0},l.a.createElement(O,{saveSchedule:function(t){i(t),e.history.push("/")}})),l.a.createElement(h.a,{path:"/"},l.a.createElement(D,{recievedSchedule:c})))))):"Loading"})),$=a(46);i.a.render(l.a.createElement($.a,null,l.a.createElement(B,null)),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.eaaa5a6c.chunk.js.map